# QSDT哥白尼计划验证管道使用说明

## 📋 概述

QSDT哥白尼计划验证管道是QSDT理论的核心验证程序，实现"反推校准-正向预测"的方法。首先利用已知数据校准理论唯一的演化定律（贝塔函数），然后用这套已校准的、无任何自由参数的定律，对整个物理学领域的关键常数进行系统性的正向预测。

## 🏗️ 文件结构

```
scripts/copernicus/
├── pipeline.py                    # 主管道程序
├── rg.py                         # 重整化群演化模块
├── models.py                     # 领域模型模块
├── plugins/
│   └── strict_formulas.py        # 严格公式插件
├── data/
│   ├── lepton_map.yaml           # 轻子映射系数
│   ├── ckm_pmns.yaml            # CKM/PMNS矩阵参数
│   └── quark_masses.csv         # 夸克质量数据
├── config_example.yaml           # 配置文件示例
├── README.md                     # 基本说明
└── 使用说明.md                   # 详细使用说明
```

## 🚀 运行方式

### 基本运行
```bash
cd scripts/copernicus
python3 pipeline.py --config config_example.yaml
```

### 参数说明
- `--config`: 指定配置文件路径（默认：config_example.yaml）

### 输出文件
运行后会在 `outputs/` 目录下生成：
- `copernicus_predictions.json`: JSON格式的预测结果
- `copernicus_predictions.csv`: CSV格式的预测结果
- `copernicus_calibration_running.json`: 校准过程信息

## ⚙️ 配置文件说明

### 主要配置节

#### 1. RG演化配置 (`rg`)
```yaml
rg:
  scheme: "appendix7"   # 使用附录7的耦合贝塔函数
  mu_targets_GeV: [0.000511, 0.10566, 1.0, 10.0, 85.0, 91.1876, 246.0, ...]
```

#### 2. 预测配置 (`predictions`)
```yaml
predictions:
  observables: ["J", "E", "Gamma", "g", "Higgs_mass", "m_e_MeV", ...]  # 要计算的物理常数
  strict_mode: true                                                    # 启用严格模式
  calibrate_running: true                                             # 启用跑动校准
  formulas_module: scripts.copernicus.plugins.strict_formulas        # 严格公式模块
```

#### 3. 希格斯质量配置 (`higgs`)
```yaml
higgs:
  mu_EW_GeV: 246.0                    # 电弱标尺
  k_mu: 2.50e-34                     # 理论推导值
  J_to_GeV: 6.241509074e9            # 单位转换因子
  xi_E_over_J: 3.0                   # E/J比值
```

## 📊 支持的物理常数

### 基本QSDT参数 (4个)
- `J`: QSDT网络能量参数
- `E`: QSDT网络能量参数
- `Gamma`: QSDT网络能量参数
- `g`: 耦合参数

### 耦合常数 (2个)
- `alpha_em@mu`: 电磁耦合常数
- `alpha_s@mu`: 强耦合常数

### 粒子质量 (7个)
- `Higgs_mass`: 希格斯玻色子质量
- `m_e_MeV`: 电子质量
- `m_mu_MeV`: μ子质量
- `m_tau_MeV`: τ子质量
- `m_W_GeV`: W玻色子质量
- `m_Z_GeV`: Z玻色子质量
- `m_t_GeV`: 顶夸克质量

### 夸克质量 (6个)
- `m_u_MeV`: 上夸克质量
- `m_d_MeV`: 下夸克质量
- `m_s_MeV`: 奇异夸克质量
- `m_c_GeV`: 粲夸克质量
- `m_b_GeV`: 底夸克质量
- `m_d_mu_diff_MeV`: 夸克质量差

### 电弱参数 (1个)
- `sin2_theta_W`: 温伯格角

### QED参数 (2个)
- `electron_g2`: 电子反常磁矩
- `a_e`: 电子反常磁矩（别名）

### 味物理 (1个)
- `V_us`: CKM矩阵元

### 宇宙学 (2个)
- `n_s`: CMB谱指数
- `cmb_spectral_index`: CMB谱指数（别名）

### 对称性 (2个)
- `theta_angle`: 强CP问题θ角
- `strong_cp_angle`: 强CP问题θ角（别名）

### 质量差 (1个)
- `delta_m_np`: 质子-中子质量差

## 🔬 理论文档位置

### 核心理论文档
- **附录7**: 哥白尼计划v4.0 - 贝塔函数校准和推导
- **附录8**: 哥白尼计划v5.0/v6.0 - 质子-中子质量差和轻子质量谱
- **附录10**: 希格斯质量理论推导
- **附录13**: 哥白尼计划扩展纲领 - 温伯格角、电子反常磁矩、CKM矩阵元、CMB谱指数
- **附录15**: 强CP问题理论解释
- **附录21**: 温伯格角验证
- **附录24**: QSDT终极参数附录
- **附录24**: QSDT终极参数附录
- **附录26**: 单位转换与物理常数

### 公式实现位置
- **轻子质量谱**: `plugins/strict_formulas.py` 中的 `_calculate_lepton_masses()`
- **希格斯质量**: `plugins/strict_formulas.py` 中的 `_calculate_higgs_mass()`
- **温伯格角**: `plugins/strict_formulas.py` 中的 `_calculate_weinberg_angle()`
- **电子反常磁矩**: `plugins/strict_formulas.py` 中的 `_calculate_electron_g2()`
- **CKM矩阵元**: `plugins/strict_formulas.py` 中的 `_calculate_ckm_matrix_elements()`
- **CMB谱指数**: `plugins/strict_formulas.py` 中的 `_calculate_cmb_spectral_index()`
- **强CP问题**: `plugins/strict_formulas.py` 中的 `_calculate_strong_cp_angle()`

## ⚠️ 注意事项

### 理论要求
1. **所有参数都基于QSDT理论严格推导，不允许手动调整**
2. **E/J比值必须保持为3.0，这是理论要求**
3. **数值计算精度要求达到理论预测范围**
4. **单位转换必须严格按照理论文档执行**

### 技术限制
1. **严格模式**: 启用后使用理论推导的严格公式
2. **插件系统**: 支持通过插件扩展严格公式
3. **数值稳定性**: 使用归一化方法避免数值爆炸
4. **错误处理**: 包含完整的错误处理机制

### 运行环境
- **Python版本**: 3.7+
- **依赖库**: numpy, yaml, pathlib, dataclasses
- **操作系统**: Linux/Windows/macOS

## 🐛 故障排除

### 常见问题
1. **导入错误**: 确保在 `scripts/copernicus/` 目录下运行
2. **配置文件错误**: 检查YAML语法和缩进
3. **数据文件缺失**: 确保 `data/` 目录下所有文件存在
4. **权限问题**: 确保对 `outputs/` 目录有写权限

### 调试模式
```bash
python3 -c "
import sys
sys.path.append('.')
from pipeline import main
main(['--config', 'config_example.yaml'])
"
```

## 📈 性能优化

### 计算优化
1. **数值积分**: 使用自适应步长提高精度
2. **插值计算**: 使用高效插值算法
3. **内存管理**: 避免不必要的数据复制

### 扩展性
1. **插件系统**: 支持添加新的物理常数计算
2. **配置驱动**: 通过配置文件控制计算流程
3. **模块化设计**: 各模块独立，便于维护

## 📚 参考文献

1. QSDT理论文档 - 附录7-26
2. 哥白尼计划验证报告
3. QSDT终极参数附录
4. 严格常数和单位换算表

## 📞 技术支持

如有问题，请检查：
1. 配置文件格式是否正确
2. 数据文件是否完整
3. Python环境和依赖是否满足要求
4. 运行目录是否正确

---

**版本**: v1.0  
**更新日期**: 2025年10月19日  
**维护者**: QSDT理论开发团队
